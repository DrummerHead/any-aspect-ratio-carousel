(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.aarCarousel = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),AarCarousel=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=i.height,n=void 0===r?"90vh":r,a=i.slideTransitionDuration,s=void 0===a?576:a;_classCallCheck(this,e),this.elementReference=t,this.ol=this.elementReference.querySelector("ol"),this.chariots=this.ol.querySelectorAll("li"),this.length=this.chariots.length,this.chariotWidth=100/this.length,this.height=n,this.slideTransitionDuration=s,this.imageNumber=0,this.prevImageNumber=0,this.buildUI()}return _createClass(e,[{key:"safeImageNumber",value:function(e){return(e%this.length+this.length)%this.length}},{key:"nextImage",value:function(){this.goToImage(this.imageNumber+1)}},{key:"previousImage",value:function(){this.goToImage(this.imageNumber-1)}},{key:"goToImage",value:function(e){this.prevImageNumber=this.imageNumber,this.imageNumber=this.safeImageNumber(e),this.ol.style.transform="translateX(-"+this.chariotWidth*this.imageNumber+"%)"}},{key:"afterTransition",value:function(){this.chariots[this.prevImageNumber].querySelector("img").classList.remove("pan"),this.chariots[this.imageNumber].querySelector("img").classList.add("pan")}},{key:"attachControls",value:function(){var e=this;this.elementReference.insertAdjacentHTML("beforeend","\n      <div class='aar-carousel__controls'>\n        <div class='aar-carousel__prev'>\n          prev\n        </div>\n        <div class='aar-carousel__next'>\n          next\n        </div>\n      </div>\n    ");var t=this.elementReference.querySelector(".aar-carousel__prev"),i=this.elementReference.querySelector(".aar-carousel__next");t.addEventListener("click",function(){return e.previousImage()}),i.addEventListener("click",function(){return e.nextImage()})}},{key:"buildUI",value:function(){var e=this;this.elementReference.style.height=this.height,this.ol.style.width=100*this.length+"%",this.ol.style.transitionDuration=this.slideTransitionDuration+"ms",this.ol.addEventListener("transitionend",function(){return e.afterTransition()});var t=!0,i=!1,r=void 0;try{for(var n,a=this.chariots[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var s=n.value;s.style.width=this.chariotWidth+"%"}}catch(e){i=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw r}}this.attachControls(),this.goToImage(0)}}]),e}(),initCarousels=function(e){var t=document.querySelectorAll(".aar-carousel"),i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var o=a.value;new AarCarousel(o,e)}}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}};module.exports=initCarousels;

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvamF2YXNjcmlwdC9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsWUFBa2pCLFNBQVMsaUJBQWdCLEVBQVUsR0FBYyxLQUFNLFlBQW9CLElBQWUsS0FBTSxJQUFJLFdBQVUscUNBQW5wQixHQUFJLGNBQWUsV0FBYSxRQUFTLEdBQWlCLEVBQVEsR0FBUSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQUssQ0FBQyxHQUFJLEdBQWEsRUFBTSxFQUFHLEdBQVcsV0FBYSxFQUFXLGFBQWMsRUFBTSxFQUFXLGNBQWUsRUFBUyxTQUFXLEtBQVksRUFBVyxVQUFXLEdBQUssT0FBTyxlQUFlLEVBQVEsRUFBVyxJQUFLLElBQWMsTUFBTyxVQUFVLEVBQWEsRUFBWSxHQUE4SSxNQUE1SCxJQUFZLEVBQWlCLEVBQVksVUFBVyxHQUFnQixHQUFhLEVBQWlCLEVBQWEsR0FBb0IsTUFFaGlCLFlBQWMsV0FDWixRQUFTLEdBQVksR0FBbUIsR0FBSSxHQUFPLFVBQVUsUUFBVSxHQUFzQixTQUFqQixVQUFVLE1BQXdCLFVBQVUsR0FBTyxFQUFjLEVBQUssT0FBVyxFQUF5QixTQUFoQixFQUE0QixPQUFTLEVBQWdCLEVBQXdCLEVBQUssd0JBQTRCLEVBQW9ELFNBQTFCLEVBQXNDLElBQU0sQ0FBc0IsaUJBQWdCLEtBQU0sR0FDcFksS0FBSyxpQkFBbUIsRUFDeEIsS0FBSyxHQUFLLEtBQUssaUJBQWlCLGNBQWMsTUFDOUMsS0FBSyxTQUFXLEtBQUssR0FBRyxpQkFBaUIsTUFDekMsS0FBSyxPQUFTLEtBQUssU0FBUyxPQUM1QixLQUFLLGFBQWUsSUFBTSxLQUFLLE9BRS9CLEtBQUssT0FBUyxFQUNkLEtBQUssd0JBQTBCLEVBRS9CLEtBQUssWUFBYyxFQUNuQixLQUFLLGdCQUFrQixFQUV2QixLQUFLLFVBeURDLE1BeERQLGNBQWEsSUFBZ0IsSUFBSyxrQkFBbUIsTUFBTyxTQUUzRCxHQUNFLE9BQVEsRUFBYyxLQUFLLE9BQVMsS0FBSyxRQUFVLEtBQUssVUFDbkQsSUFBSyxZQUFhLE1BQU8sV0FHOUIsS0FBSyxVQUFVLEtBQUssWUFBYyxNQUM3QixJQUFLLGdCQUFpQixNQUFPLFdBR2xDLEtBQUssVUFBVSxLQUFLLFlBQWMsTUFDN0IsSUFBSyxZQUFhLE1BQU8sU0FFaEMsR0FDRSxLQUFLLGdCQUFrQixLQUFLLFlBQzVCLEtBQUssWUFBYyxLQUFLLGdCQUFnQixHQUV4QyxLQUFLLEdBQUcsTUFBTSxVQUFZLGVBQWlCLEtBQUssYUFBZSxLQUFLLFlBQWMsUUFDN0UsSUFBSyxrQkFBbUIsTUFBTyxXQUdwQyxLQUFLLFNBQVMsS0FBSyxpQkFBaUIsY0FBYyxPQUFPLFVBQVUsT0FBTyxPQUMxRSxLQUFLLFNBQVMsS0FBSyxhQUFhLGNBQWMsT0FBTyxVQUFVLElBQUksVUFDOUQsSUFBSyxpQkFBa0IsTUFBTyxXQUVwQyxHQUFJLEdBQVEsSUFDWCxNQUFLLGlCQUFpQixtQkFBbUIsWUFBYSx1TkFVdEQsSUFBSSxHQUFPLEtBQUssaUJBQWlCLGNBQWMsdUJBQzNDLEVBQU8sS0FBSyxpQkFBaUIsY0FBYyxzQkFDL0MsR0FBSyxpQkFBaUIsUUFBUyxXQUFhLE1BQU8sR0FBTSxrQkFDekQsRUFBSyxpQkFBaUIsUUFBUyxXQUFhLE1BQU8sR0FBTSxpQkFDcEQsSUFBSyxVQUFXLE1BQU8sV0FFN0IsR0FBSSxHQUFTLElBQ1osTUFBSyxpQkFBaUIsTUFBTSxPQUFTLEtBQUssT0FFMUMsS0FBSyxHQUFHLE1BQU0sTUFBc0IsSUFBZCxLQUFLLE9BQWUsSUFDMUMsS0FBSyxHQUFHLE1BQU0sbUJBQXFCLEtBQUssd0JBQTBCLEtBQ2xFLEtBQUssR0FBRyxpQkFBaUIsZ0JBQWlCLFdBQWEsTUFBTyxHQUFPLG1CQUFxQixJQUFJLElBQTRCLEVBQVMsR0FBb0IsRUFBVSxFQUFpQixNQUFVLEtBRTFMLElBQUssR0FBa0QsR0FBOUMsRUFBWSxLQUFLLFNBQVMsT0FBTyxjQUFzQixHQUE2QixFQUFRLEVBQVUsUUFBUSxNQUFPLEdBQTRCLEVBQU0sQ0FBQyxHQUFJLEdBQVUsRUFBTSxLQUNuTCxHQUFRLE1BQU0sTUFBUSxLQUFLLGFBQWUsS0FDekMsTUFBTyxHQUFNLEdBQW9CLEVBQUssRUFBaUIsRUFKZ0ksUUFJakgsS0FBVSxHQUE2QixFQUFVLFFBQVMsRUFBVSxTQUFwRSxRQUF5RixHQUFJLEVBQW9CLEtBQU0sSUFFbE0sS0FBSyxpQkFDTCxLQUFLLFVBQVUsT0FDSixLQU1iLGNBQWdCLFNBQXVCLEdBQ3pDLEdBQUksR0FBWSxTQUFTLGlCQUFpQixpQkFBcUIsR0FBNkIsRUFBUyxHQUFxQixFQUFVLEVBQWtCLE1BQVUsS0FFOUosSUFBSyxHQUErQyxHQUEzQyxFQUFhLEVBQVUsT0FBTyxjQUF1QixHQUE4QixFQUFTLEVBQVcsUUFBUSxNQUFPLEdBQTZCLEVBQU0sQ0FBQyxHQUFJLEdBQVcsRUFBTyxLQUN2TCxJQUFJLGFBQVksRUFBVSxJQUN6QixNQUFPLEdBQU0sR0FBcUIsRUFBSyxFQUFrQixFQUprRyxRQUluRixLQUFVLEdBQThCLEVBQVcsUUFBUyxFQUFXLFNBQXZFLFFBQTRGLEdBQUksRUFBcUIsS0FBTSxLQUcxTSxRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO3ZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge3ZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7aWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge2lmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTt9fXZhclxuXG5BYXJDYXJvdXNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQWFyQ2Fyb3VzZWwoZWxlbWVudFJlZmVyZW5jZSkge3ZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07dmFyIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7dmFyIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB1bmRlZmluZWQgPyAnOTB2aCcgOiBfcmVmJGhlaWdodDt2YXIgX3JlZiRzbGlkZVRyYW5zaXRpb25EID0gX3JlZi5zbGlkZVRyYW5zaXRpb25EdXJhdGlvbjt2YXIgc2xpZGVUcmFuc2l0aW9uRHVyYXRpb24gPSBfcmVmJHNsaWRlVHJhbnNpdGlvbkQgPT09IHVuZGVmaW5lZCA/IDU3NiA6IF9yZWYkc2xpZGVUcmFuc2l0aW9uRDtfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWFyQ2Fyb3VzZWwpO1xuICAgIHRoaXMuZWxlbWVudFJlZmVyZW5jZSA9IGVsZW1lbnRSZWZlcmVuY2U7XG4gICAgdGhpcy5vbCA9IHRoaXMuZWxlbWVudFJlZmVyZW5jZS5xdWVyeVNlbGVjdG9yKCdvbCcpO1xuICAgIHRoaXMuY2hhcmlvdHMgPSB0aGlzLm9sLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLmNoYXJpb3RzLmxlbmd0aDtcbiAgICB0aGlzLmNoYXJpb3RXaWR0aCA9IDEwMCAvIHRoaXMubGVuZ3RoO1xuXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5zbGlkZVRyYW5zaXRpb25EdXJhdGlvbiA9IHNsaWRlVHJhbnNpdGlvbkR1cmF0aW9uO1xuXG4gICAgdGhpcy5pbWFnZU51bWJlciA9IDA7XG4gICAgdGhpcy5wcmV2SW1hZ2VOdW1iZXIgPSAwO1xuXG4gICAgdGhpcy5idWlsZFVJKCk7XG4gIH1fY3JlYXRlQ2xhc3MoQWFyQ2Fyb3VzZWwsIFt7IGtleTogJ3NhZmVJbWFnZU51bWJlcicsIHZhbHVlOiBmdW5jdGlvbiBzYWZlSW1hZ2VOdW1iZXIoXG5cbiAgICBpbWFnZU51bWJlcikge1xuICAgICAgcmV0dXJuIChpbWFnZU51bWJlciAlIHRoaXMubGVuZ3RoICsgdGhpcy5sZW5ndGgpICUgdGhpcy5sZW5ndGg7XG4gICAgfSB9LCB7IGtleTogJ25leHRJbWFnZScsIHZhbHVlOiBmdW5jdGlvbiBuZXh0SW1hZ2UoKVxuXG4gICAge1xuICAgICAgdGhpcy5nb1RvSW1hZ2UodGhpcy5pbWFnZU51bWJlciArIDEpO1xuICAgIH0gfSwgeyBrZXk6ICdwcmV2aW91c0ltYWdlJywgdmFsdWU6IGZ1bmN0aW9uIHByZXZpb3VzSW1hZ2UoKVxuXG4gICAge1xuICAgICAgdGhpcy5nb1RvSW1hZ2UodGhpcy5pbWFnZU51bWJlciAtIDEpO1xuICAgIH0gfSwgeyBrZXk6ICdnb1RvSW1hZ2UnLCB2YWx1ZTogZnVuY3Rpb24gZ29Ub0ltYWdlKFxuXG4gICAgaW1hZ2VOdW1iZXIpIHtcbiAgICAgIHRoaXMucHJldkltYWdlTnVtYmVyID0gdGhpcy5pbWFnZU51bWJlcjtcbiAgICAgIHRoaXMuaW1hZ2VOdW1iZXIgPSB0aGlzLnNhZmVJbWFnZU51bWJlcihpbWFnZU51bWJlcik7XG5cbiAgICAgIHRoaXMub2wuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScgKyB0aGlzLmNoYXJpb3RXaWR0aCAqIHRoaXMuaW1hZ2VOdW1iZXIgKyAnJSknO1xuICAgIH0gfSwgeyBrZXk6ICdhZnRlclRyYW5zaXRpb24nLCB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJUcmFuc2l0aW9uKClcblxuICAgIHtcbiAgICAgIHRoaXMuY2hhcmlvdHNbdGhpcy5wcmV2SW1hZ2VOdW1iZXJdLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmNsYXNzTGlzdC5yZW1vdmUoJ3BhbicpO1xuICAgICAgdGhpcy5jaGFyaW90c1t0aGlzLmltYWdlTnVtYmVyXS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5jbGFzc0xpc3QuYWRkKCdwYW4nKTtcbiAgICB9IH0sIHsga2V5OiAnYXR0YWNoQ29udHJvbHMnLCB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoQ29udHJvbHMoKVxuXG4gICAge3ZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLmVsZW1lbnRSZWZlcmVuY2UuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnXFxuICAgICAgPGRpdiBjbGFzcz1cXCdhYXItY2Fyb3VzZWxfX2NvbnRyb2xzXFwnPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXCdhYXItY2Fyb3VzZWxfX3ByZXZcXCc+XFxuICAgICAgICAgIHByZXZcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXCdhYXItY2Fyb3VzZWxfX25leHRcXCc+XFxuICAgICAgICAgIG5leHRcXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAnKTtcblxuXG5cblxuXG5cblxuXG5cbiAgICAgIHZhciBwcmV2ID0gdGhpcy5lbGVtZW50UmVmZXJlbmNlLnF1ZXJ5U2VsZWN0b3IoJy5hYXItY2Fyb3VzZWxfX3ByZXYnKTtcbiAgICAgIHZhciBuZXh0ID0gdGhpcy5lbGVtZW50UmVmZXJlbmNlLnF1ZXJ5U2VsZWN0b3IoJy5hYXItY2Fyb3VzZWxfX25leHQnKTtcbiAgICAgIHByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7cmV0dXJuIF90aGlzLnByZXZpb3VzSW1hZ2UoKTt9KTtcbiAgICAgIG5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7cmV0dXJuIF90aGlzLm5leHRJbWFnZSgpO30pO1xuICAgIH0gfSwgeyBrZXk6ICdidWlsZFVJJywgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkVUkoKVxuXG4gICAge3ZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdGhpcy5lbGVtZW50UmVmZXJlbmNlLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgICB0aGlzLm9sLnN0eWxlLndpZHRoID0gdGhpcy5sZW5ndGggKiAxMDAgKyAnJSc7XG4gICAgICB0aGlzLm9sLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHRoaXMuc2xpZGVUcmFuc2l0aW9uRHVyYXRpb24gKyAnbXMnO1xuICAgICAgdGhpcy5vbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKCkge3JldHVybiBfdGhpczIuYWZ0ZXJUcmFuc2l0aW9uKCk7fSk7dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO3ZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO3ZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDt0cnkge1xuXG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY2hhcmlvdHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7dmFyIGNoYXJpb3QgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICBjaGFyaW90LnN0eWxlLndpZHRoID0gdGhpcy5jaGFyaW90V2lkdGggKyAnJSc7XG4gICAgICAgIH19IGNhdGNoIChlcnIpIHtfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7X2l0ZXJhdG9yRXJyb3IgPSBlcnI7fSBmaW5hbGx5IHt0cnkge2lmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7X2l0ZXJhdG9yLnJldHVybigpO319IGZpbmFsbHkge2lmIChfZGlkSXRlcmF0b3JFcnJvcikge3Rocm93IF9pdGVyYXRvckVycm9yO319fVxuXG4gICAgICB0aGlzLmF0dGFjaENvbnRyb2xzKCk7XG4gICAgICB0aGlzLmdvVG9JbWFnZSgwKTtcbiAgICB9IH1dKTtyZXR1cm4gQWFyQ2Fyb3VzZWw7fSgpO1xuXG5cbi8vIGltcG9ydCBpbnMgZnJvbSAnLi9pbnNlcnQtY3NzLWRlcCdcbi8vIGlucygpO1xuXG52YXIgaW5pdENhcm91c2VscyA9IGZ1bmN0aW9uIGluaXRDYXJvdXNlbHMob3B0cykge1xuICB2YXIgY2Fyb3VzZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFhci1jYXJvdXNlbCcpO3ZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7dmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO3ZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7dHJ5IHtcblxuICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBjYXJvdXNlbHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHt2YXIgY2Fyb3VzZWwgPSBfc3RlcDIudmFsdWU7XG4gICAgICBuZXcgQWFyQ2Fyb3VzZWwoY2Fyb3VzZWwsIG9wdHMpO1xuICAgIH19IGNhdGNoIChlcnIpIHtfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO19pdGVyYXRvckVycm9yMiA9IGVycjt9IGZpbmFsbHkge3RyeSB7aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge19pdGVyYXRvcjIucmV0dXJuKCk7fX0gZmluYWxseSB7aWYgKF9kaWRJdGVyYXRvckVycm9yMikge3Rocm93IF9pdGVyYXRvckVycm9yMjt9fX1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdENhcm91c2VsczsiXX0=
